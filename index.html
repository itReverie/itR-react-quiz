<!DOCTYPE html>
<html lang="en" xml:lang="en-GB" xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Playing with React</title>
  <link rel="stylesheet" href="font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="css/myStyles.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
</head>

<body>

  <div id="container"></div>

  <script src="https://unpkg.com/react@latest/dist/react.js"></script>
  <script src="https://unpkg.com/react-dom@latest/dist/react-dom.js"></script>
  <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

  <script type="text/jsx">

  //Subcomponent of the game: Stars
  const Stars= (props) => {
    const numberOfStars=Math.floor(Math.random()*9);
    // let stars =[];
    // for(let i=0; i<numberOfStars; i++){
    //   stars.push(<i key={i} className="fa fa-star"></i>);
    // }

    //react encourage you to use: map, filter, reduce instead of for loops
    return (
      <div className="col-xs-5">
      {_.range(numberOfStars).map(i => <i key={i} className="fa fa-star"></i>)}
      </div>
    );
  }

  //Subcomponent of the game: Button
  const Button= (props) => {
    return (
      <div className="col-xs-2">
      <button>=</button>
      </div>
    );
  }

  //Subcomponent of the game : Answer
  const Answer= (props) => {
    return (
      <div className="col-xs-5">
      {props.selectedNumbers.map((number, i)=> <span key={i}>{number}</span>)}
      </div>
    );
  }

  //Subcomponent of the game : Numbers
  const Numbers= (props) => {
    const numberClassName = (number) => {
      if(props.selectedNumbers.indexOf(number) >= 0)
      {
        return 'selected';
      }
    }
    return (
      <div className="card text-center">
      <div>
      {Numbers.list.map((number, i) => <span key={i} className={numberClassName(number)}>{number}</span>)}
      </div>
      </div>
    );
  };

  Numbers.list = _.range(1,9);

  //Component: Game
  class Game extends React.Component{
    // decalring the state variable in the game components
    // as it will be used in the Anwers and Numbers subcomponents
    state= {selectedNumbers :[2,4]};

    render(){
      return (
        <div className="container">
        <h3>Play Nine</h3>
        <hr />
        <div className="row">
        <Stars/>
        <Button/>
        <Answer selectedNumbers={this.state.selectedNumbers}/>
        </div>
        <br />
        <Numbers selectedNumbers={this.state.selectedNumbers}/>
        </div>
      );
    }
  }



  class App extends React.Component{
    render(){
      return(
        <div>
        <Game />
        </div>
      );  }
    }

    ReactDOM.render (<App />, container);

    </script>
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
    <!-- <script src="bootstrap/js/bootstrap.min.js" type="text/javascript"></script> -->
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/0.10.0/lodash.min.js"></script>
    <script src="https://npmcdn.com/tether@1.2.4/dist/js/tether.min.js"></script>
    <script src="https://npmcdn.com/bootstrap@4.0.0-alpha.5/dist/js/bootstrap.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>

  </body>
  </html>
